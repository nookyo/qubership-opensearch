name: Second Workflow

on:
  pull_request:

permissions:
  actions: read
  contents: read

jobs:
  wait-for-first:
    runs-on: ubuntu-latest
    steps:
      - uses: kamilchodola/wait-for-workflow-action@main
        with:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          workflow_id: "First Workflow"   # –∏–º—è –∏–ª–∏ id workflow
          org_name: "nookyo"              # —Ç–≤–æ–π owner/organization
          repo_name: "qubership-opensearch"
          ref: ${{ github.head_ref }}     # —á—Ç–æ–±—ã –∂–¥–∞—Ç—å –∏–º–µ–Ω–Ω–æ —ç—Ç–æ—Ç PR
          interval: 30                    # (—Å–µ–∫) –∫–∞–∫ —á–∞—Å—Ç–æ –æ–ø—Ä–∞—à–∏–≤–∞—Ç—å
          timeout: 600                    # (—Å–µ–∫) —Å–∫–æ–ª—å–∫–æ –º–∞–∫—Å–∏–º—É–º –∂–¥–∞—Ç—å

  second:
    needs: wait-for-first
    runs-on: ubuntu-latest
    steps:
      - run: echo "üöÄ Running Second Workflow after First"